"use strict";angular.module("powerApp",["ngRoute"]).config(["$routeProvider",function(a){a.when("/lets/get/fucked/up",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/lets/get/fucked/up"})}]),angular.module("powerApp").controller("MainCtrl",["$scope","$timeout",function(a,b){function c(a){return("0"+a).slice(-2)}a.backgroundColor="",a.calculateSeconds=function(){a.seconds=60*a.minutes,a.displayTime()},a.displayTime=function(){var b=parseInt(a.seconds);a.currentTime=Math.floor(b/60)+":"+c(b%60)},a.toggleRunning=function(){a.isRunning?a.isRunning=!1:(a.isRunning=!0,a.run())},a.getRandomColor=function(){return"#"+(16777215*Math.random()<<0).toString(16)},a.crazyBackground=function(){parseInt(a.seconds)%60<4&&a.isRunning?(a.backgroundColor=a.getRandomColor(),a.numberColor=a.getRandomColor(),b(a.crazyBackground,100)):(a.numberColor="",a.backgroundColor="")},a.run=function(){a.isRunning&&a.seconds>0?(a.seconds--,3===parseInt(a.seconds%60)?(a.crazyBackground(),a.currentTime="DRINK"):a.displayTime(),a.timeoutPromise=b(a.run,1e3)):b.cancel(a.timeoutPromise)},a.seconds=3600,a.minutes=60,a.displayTime()}]),angular.module("powerApp").directive("numberInputBox",function(){return{template:'<input type="number"/>',restrict:"E",replace:!0,link:function(a,b){b.keypress(function(a){a.keyCode<=40&&a.keyCode>=37||a.keyCode>=48&&a.keyCode<=57||a.preventDefault()}),b.keydown(function(a){40===a.keyCode&&parseInt(b.val())<=0&&a.preventDefault()})}}});